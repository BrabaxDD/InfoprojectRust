# Documentation of the Java Script code
-----

## EVENTS
### For mouse movement:
- canvas.addEventListener('mousemove', (event) => {})

### For keyDown event:
- window.addEventListener('keydown', (e) => this.handleKeyDown(e))

### To switch the scene on display:
- "switchScene"
- requires eventObject with {sceneToSwitch:*x*}
- *x* can be:
    - any of the cases in the GameSceneFactory class:
    - "mainMenu" or 0
    - "optionsMenu" or 1
    - "game" or 2
    - "hostOrLogin" or 3

### To process clicks:
- "click_on_canvas"
- only triggered by the main .js
- only subscribe to it

### To listen for text input from the TextInput class:
- "textInputFinished"
- outputs eventObject with {storedText:*x*}

### position
{type;posX; posY}

### Inventory
#### To recieve the whole inventory from the server:
- "inventory"
- triggered by recieving a JSON from the server


## Types of Buttons
### "switchScene"
- triggers Event "switchScene" 
- requires eventObject with {scenesToSwitch : *x*}

### "loginToServer"
- sends the "login" JSON to the server specified in a TextInput in the same Scene with the event "textInputFinished"
- switches Scene triggers the event "switchScene"
- requires EventObject with {sceneToSwitch:*x*}

### "loginToServerHost"
- sends "startserver" JSON to the server
- triggers startup of server with the name specified in a TextInput in the same Scene with the event "textInputFinished"
- no eventObject required

### "generateItem"
- triggers global function "generateItem" in "game.js", wich sends the "generateItem" JSON to the server
- requires the name of the item as a string as eventObject

## JSON that are send to the server
### JSON to the webSocket for the host

#### "startserver"

### JOSN to the webSocket for the player
#### "login"
Is the initial message to the server. After the server sends messages
to the client about the objects in the game

{type: "login", ID:playerID, serverID:serverName}

with playerID generated by the system time

with serverName as the name of the server to host (String)

#### "generateItem"
Sends a request to server to generate an item. 
-> sends Inverntory back?

{type : "generateItem", itemID : object}

with object beeing the name of the item (string)

#### "action"
Sends the state of inputs to the server.
-> server sends position of the player back -> movenent simulated by the server

{type: "action", up: player.up, down: player.down, left: player.left, right: player.right}

with up, down, left and right as booleans for the state if the corresponding arrow keys

## JSON that are listened to from the servers
### "position"
Sends the position of the player after the simulated movement.

{posx:x; posy:y}

-> teleport player to that position
